function [ rowNum_patch, colNum_patch, Patchsize ] = decomposeInteger( K, allFactors )
%DECOMPOSEINTEGER Summary of this function goes here
%   Detailed explanation goes here

%global allFactors;

% decompose a number into two integers which are the closest
factors = factor(K);% from small to big
n = numel(factors);
% check if tow factors, and the smallest one is <=3
while n==2 && factors(1)==3 && abs(factors(1)-factors(2))>=6
    K = K-3;
    factors = factor(K);
    n = numel(factors);
end

Patchsize = K/3;

%tic;

%toc;
% allFactors = [3,1; 3,2; 3,3; 4,3; 5,3; 6,3; 7,3; 6,4; 9,3; 6,5;...  %1-10 points
%     11,3; 6,6; 13,3; 7,6; 9,5; 8,6; 17,3; 9,6; 19,3; 10,6;...   %11-20
%     9,7; 11,6; 23,3; 9,8; 15,5; 13,6; 9,9; 12,7; 29,3; 10,9;... %21-30
%     31,3; 12,8; 11,9; 17,6; 15,7; 12,9; 37,3; 19,6; 13,9; 12,10;...  %31-40
%     41,3; 14,9; 43,3; 12,11; 15,9; 23,6; 47,3; 12,12; 21,7; 15,10;... %41-50
%     17,9; 13,12; 53,3; 18,9; 15,11; 14,12; 19,9; 29,6; 59,3; 15,12;... %51-60
%     61,3; 31,6; 21,9; 16,12; 15,13; 18,11; 67,3; 17,12; 23,9; 15,14;... %61-70
%     71,3; 18,12; 73,3; 37,6; 15,15; 19,12; 21,11; 18,13; 79,3; 16,15;...%71-80
%     27,9; 41,6; 83,3; 18,14; 17,15; 43,6; 29,9; 22,12; 89,3; 18,15;...%81-90
%     21,13; 23,12; 31,9; 47,6; 19,15; 18,16; 97,3; 21,14; 27,11; 20,15;...%91-100
%     101,3; 18,17; 103,3; 24,13; 21,15; 53,6; 107,3; 18,18; 109,3; 22,15;...%101-110
%     37,9; 21,16; 113,3; 19,18; 23,15; 29,12; 27,13; 59,6; 21,17; 20,18;...%111-120
%     33,11; 61,6; 41,9; 31,12; 25,15; 21,18; 127,3; 24,16; 43,9; 26,15;...%121-130
%     131,3; 22,18; 21,19; 67,6; 27,15; 24,17; 137,3; 23,18; 139,3; 21,20;...%131-140
%     47,9; 71,6; 33,13; 24,18; 29,15; 73,6; 21,21; 37,12; 149,3; 25,18;...%141-150
%     151,3; 24,19; 27,17; 22,21; 31,15; 26,18; 157,3; 79,6; 53,9; 24,20;...%151-160
%     23,21; 27,18; 163,3; 41,12; 33,15; 83,6; 167,3; 24,21; 39,13; 30,17;...%161-170
%     27,19; 43,12; 173,3; 29,18; 25,21; 24,22; 59,9; 89,6; 179,3; 27,20;...%171-180
%     181,3; 26,21; 61,9; 24,23; 37,15; 31,18; 33,17; 47,12; 27,21; 30,19;...%181-190
%     191,3; 24,24; 193,3; 97,6; 39,15; 28,21; 197,3; 27,22; 199,3; 25,24;...%191-200
%     67,9; 101,6; 29,21; 34,18; 41,15; 103,6; 27,23; 26,24; 33,19; 30,21;...%201-210
%     211,3; 53,12; 71,9; 107,6; 43,15; 27,24; 31,21; 109,6; 73,9; 30,22;...%211-220
%     39,17; 37,18; 223,3; 28,24; 27,25; 113,6; 227,3; 36,19; 229,3; 30,23;...%221-230
%     33,21; 29,24; 233,3; 27,26; 47,15; 59,12; 79,9; 34,21; 239,3; 30,24;...%231-240
%     241,3; 33,22; 27,27; 61,12; 35,21; 41,18; 39,19; 31,24; 83,9; 30,25;...%241-250
%     251,3; 28,27; 33,23; 127,6; 45,17; 32,24; 257,3; 43,18; 37,21; 30,26;...%251-260
%     29,27; 131,6; 263,3; 33,24; 53,15; 38,21; 89,9; 67,12; 269,3; 30,27;...%261-270
%     271,3; 34,24; 39,21; 137,6; 33,25; 36,23; 277,3; 139,6; 31,27; 30,28;...%271-280
%     281,3; 47,18; 283,3; 71,12; 45,19; 33,26; 41,21; 32,27; 51,17; 30,29;...%281-290
%     97,9; 73,12; 293,3; 42,21; 59,15; 37,24; 33,27; 149,6; 39,23; 30,30;...%291-300
%     43,21; 151,6; 101,9; 38,24; 61,15; 34,27; 307,3; 33,28; 103,9; 31,30;...%301-310
%     311,3; 36,26; 313,3; 157,6; 35,27; 79,12; 317,3; 53,18; 33,29; 32,30;...%311-320
%     107,9; 42,23; 51,19; 36,27; 39,25; 163,6; 109,9; 41,24; 47,21; 33,30;...%321-330
%     331,3; 83,12; 37,27; 167,6; 67,15; 36,28; 337,3; 39,26; 113,9; 34,30;...%331-340
%     33,31; 38,27; 49,21; 43,24; 45,23; 173,6; 347,3; 36,29; 349,3; 35,30;...%341-350
%     39,27; 33,32; 353,3; 59,18; 71,15; 89,12; 51,21; 179,6; 359,3; 36,30;....%351-360
%     57,19; 181,6; 33,33; 39,28; 73,15; 61,18; 367,3; 46,24; 41,27; 37,30;...%361-370
%     53,21; 36,31; 373,3; 34,33; 45,25; 47,24; 39,29; 42,27; 379,3; 38,30;...%371-380
%     127,9; 191,6; 383,3; 36,32; 35,33; 193,6; 43,27; 97,12; 389,3; 39,30;...%381-390
%     51,23; 42,28; 131,9; 197,6; 79,15; 36,33; 397,3; 199,6; 57,21; 40,30;....%391-400
%     401,3; 67,18; 39,31; 101,12; 45,27; 42,29; 37,33; 36,34; 409,3; 41,30;...%401-410
%     137,9; 103,12; 59,21; 46,27; 83,15; 39,32; 139,9; 38,33; 419,3; 36,35;...%411-420
%     421,3; 211,6; 47,27; 53,24; 51,25; 71,18; 61,21; 107,12; 39,33; 43,30;...%421-430
%     431,3; 36,36; 433,3; 42,31; 45,29; 109,12; 57,23; 73,18; 439,3; 40,33;...%431-440
%     49,27; 39,34; 443,3; 37,36; 89,15; 223,6; 149,9; 42,32; 449,3; 45,30;....%441-450
%     41,33; 113,12; 151,9; 227,6; 39,35; 38,36; 457,3; 229,6; 51,27; 46,30;...%451-460
%     461,3; 42,33; 463,3; 48,29; 45,31; 233,6; 467,3; 39,36; 67,21; 47,30;...%461-470
%     157,9; 59,24; 43,33; 79,18; 57,25; 42,34; 53,27; 239,6; 479,3; 40,36;....%471-480
%     39,37; 241,6; 63,23; 44,33; 97,15; 54,27; 487,3; 61,24; 163,9; 42,35;...%481-490
%     491,3; 41,36; 51,29; 39,38; 45,33; 48,31; 71,21; 83,18; 499,3; 50,30;...%491-500
%     167,9; 251,6; 503,3; 42,36; 101,15; 46,33; 39,39; 127,12; 509,3; 45,34;...%501-510
%     73,21; 48,32; 57,27; 257,6; 103,15; 43,36; 47,33; 42,37; 173,9; 40,39;...%511-520
%     521,3; 54,29; 523,3; 131,12; 45,35; 263,6; 51,31; 44,36; 69,23; 53,30;...%521-530
%     59,27; 42,38; 41,39; 89,18; 107,15; 67,24; 179,9; 269,6; 49,33; 45,36;...%531-540
%     541,3; 271,6; 181,9; 48,34; 109,15; 42,39; 547,3; 137,12; 61,27; 50,33;...%541-550
%     57,29; 46,36; 79,21; 277,6; 45,37; 139,12; 557,3; 54,31; 43,39; 42,40;....%551-560
%     51,33; 281,6; 563,3; 47,36; 113,15; 283,6; 63,27; 71,24; 569,3; 45,38;...%561-570
%     571,3; 44,39; 191,9; 42,41; 69,25; 48,36; 577,3; 51,34; 193,9; 58,30;...%571-580
%     83,21; 97,18; 53,33; 73,24; 45,39; 293,6; 587,3; 42,42; 57,31; 59,30;...%581-590
%     197,9; 48,37; 593,3; 54,33; 51,35; 149,12; 199,9; 46,39; 599,3; 45,40;....%591-600
%     601,3; 43,42; 67,27; 151,12; 55,33; 101,18; 607,3; 48,38; 63,29; 61,30;...%601-610
%     47,39; 51,36; 613,3; 307,6; 45,41; 44,42; 617,3; 103,18; 619,3; 60,31;...%611-620
%     69,27; 311,6; 89,21; 48,39; 75,25; 313,6; 57,33; 157,12; 51,37; 45,42;...%621-630
%     631,3; 79,24; 211,9; 317,6; 127,15; 53,36; 49,39; 58,33; 71,27; 48,40;...%631-640
%     641,3; 107,18; 643,3; 46,42; 45,43; 51,38; 647,3; 54,36;  59,33; 50,39;...%641-650
%     63,31; 163,12; 653,3; 109,18; 131,15; 48,41; 73,27; 47,42; 659,3; 45,44;...%651-660
%     661,3; 331,6; 51,39; 83,24; 57,35; 54,37; 69,29; 167,12; 223,9; 67,30;...%661-670
%     61,33; 48,42; 673,3; 337,6; 45,45; 52,39; 677,3; 113,18; 97,21; 51,40;...%671-680
%     227,9; 62,33; 683,3; 54,38; 137,15; 49,42; 229,9; 48,43; 53,39; 46,45;...%681-690
%     691,3; 173,12; 63,33; 347,6; 139,15; 58,36; 51,41; 349,6; 233,9; 50,42;...%691-700
%     701,3; 54,39; 57,37; 48,44; 47,45; 353,6; 101,21; 59,36; 709,3; 71,30;...%701-710
%     79,27; 89,24; 69,31; 51,42; 55,39; 179,12; 239,9; 359,6; 719,3; 48,45;...%711-720
%     103,21; 57,38; 241,9; 181,12; 75,29; 66,33; 727,3; 52,42; 81,27; 73,30;...%721-730
%     51,43; 61,36; 733,3; 367,6; 49,45; 48,46; 67,33; 54,41; 739,3; 60,37;...%731-740
%     57,39; 53,42; 743,3; 62,36; 149,15; 373,6; 83,27; 51,44; 107,21; 50,45;...%741-750
%     751,3; 48,47; 251,9; 58,39; 151,15; 54,42; 757,3; 379,6; 69,33; 57,40;...%751-760
%     761,3; 127,18; 109,21; 191,12; 51,45; 383,6; 59,39; 48,48; 769,3; 55,42;%761-770
%     257,9; 193,12; 773,3; 54,43; 75,31; 97,24; 63,37; 389,6; 57,41; 52,45;...%771-780
%     71,33; 51,46; 81,29; 49,48; 157,15; 131,18; 787,3; 197,12; 263,9; 79,30;...%781-790
%     113,21; 54,44; 61,39; 397,6; 53,45; 199,12; 797,3; 57,42; 51,47; 50,48;...%791-800
%     ];

rowNum_patch = allFactors(K/3,1);
colNum_patch = allFactors(K/3,2);


end

